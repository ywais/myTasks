(this.webpackJsonplesson=this.webpackJsonplesson||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(5),r=a.n(i),s=a(15),c=a.n(s),l=(a(22),a(8)),o=(a(23),a(7)),u=a(16),j=a(13);var b=function(e){var t=e.firebase.firestore(),a=t.collection("Books");a.get();var i=Object(j.a)(a),r=Object(l.a)(i,1)[0],s=t.collection("users");s.get();var c=Object(j.a)(s),u=Object(l.a)(c,1)[0],b=u&&u.find((function(t){return t.uid===e.user.uid}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:["Welcome ",e.user.displayName||e.user.email,"!"]}),b&&b.imgUrl&&Object(n.jsx)("img",{src:b.imgUrl,alt:"user's profile",width:100}),Object(n.jsx)("button",{onClick:function(){return o.a.auth().signOut()},children:"Sign Out"}),Object(n.jsx)("button",{onClick:function(){a.add({author:"me",title:"my",year:2020})},children:"save to firestore"}),r&&r.map((function(e,t){return Object(n.jsxs)("p",{children:['"',e.title,'" by ',e.author]},t)}))]})};var d=function(e){var t=Object(i.useState)(""),a=Object(l.a)(t,2),r=a[0],s=a[1],c=Object(i.useState)(""),u=Object(l.a)(c,2),j=u[0],b=u[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Sign In"}),Object(n.jsx)("button",{onClick:function(){var e=new o.a.auth.GoogleAuthProvider;o.a.auth().signInWithPopup(e)},children:"Sign In with Google"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:function(){var e=new o.a.auth.FacebookAuthProvider;o.a.auth().signInWithPopup(e)},children:"Sign In with Facebook"}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"siEmail",children:"Email: "}),Object(n.jsx)("input",{id:"siEmail",name:"email",onChange:function(e){return s(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"siPassword",children:"Password: "}),Object(n.jsx)("input",{type:"password",id:"siPassword",name:"password",onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:function(){o.a.auth().signInWithEmailAndPassword(r,j).catch((function(e){var t=e.message;alert(t)}))},children:"Sign In"}),Object(n.jsx)("button",{onClick:function(){""!==r?(o.a.auth().sendPasswordResetEmail(r).catch((function(e){var t=e.message;alert(t)})),alert("Email sent to "+r)):alert("Fill in your email")},children:"Forgot password?"})]})};var h=function(e){var t=Object(i.useState)(""),a=Object(l.a)(t,2),r=a[0],s=a[1],c=Object(i.useState)(""),u=Object(l.a)(c,2),j=u[0],b=u[1],d=Object(i.useState)(""),h=Object(l.a)(d,2),m=h[0],O=h[1],g=Object(i.useState)(""),f=Object(l.a)(g,2),p=f[0],x=f[1],v=Object(i.useState)(""),w=Object(l.a)(v,2),C=w[0],I=w[1],P=e.firebase.firestore().collection("users");return P.get(),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"or... Sign Up"}),Object(n.jsx)("label",{htmlFor:"suEmail",children:"Email: "}),Object(n.jsx)("input",{id:"suEmail",name:"email",onChange:function(e){return s(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"suPassword",children:"Password: "}),Object(n.jsx)("input",{type:"password",id:"suPassword",name:"password",onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"suFullName",children:"Full Name: "}),Object(n.jsx)("input",{type:"fullName",id:"suFullName",name:"fullName",onChange:function(e){return O(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"suImgUrl",children:"Profile Image: "}),Object(n.jsx)("input",{type:"imgUrl",id:"suImgUrl",name:"imgUrl",onChange:function(e){return x(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"suTitle",children:"Title: "}),Object(n.jsx)("input",{type:"title",id:"suTitle",name:"title",onChange:function(e){return I(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:function(){o.a.auth().createUserWithEmailAndPassword(r,j).then((function(e){P.add({uid:e.user.uid,email:e.user.email,fullName:m,imgUrl:p,title:C}),o.a.auth().currentUser.updateProfile({displayName:m.split(" ")[0]})})).catch((function(e){var t=e.message;alert(t)}))},children:"Sign Up"})]})};o.a.initializeApp({apiKey:"AIzaSyBeIEuXqz3xjoKCQ1P955UpcDwtEsS8ZIg",authDomain:"fir-demmo-1a9c1.firebaseapp.com",databaseURL:"https://fir-demmo-1a9c1.firebaseio.com",projectId:"fir-demmo-1a9c1",storageBucket:"fir-demmo-1a9c1.appspot.com",messagingSenderId:"790470392439",appId:"1:790470392439:web:855c831a278a4a3d616472",measurementId:"G-7GHWY2HPBX"});var m=o.a.auth();var O=function(){var e=Object(u.a)(m),t=Object(l.a)(e,1)[0];return Object(n.jsx)("div",{className:"App",children:t?Object(n.jsx)(b,{user:t,firebase:o.a}):Object(n.jsxs)("div",{className:"signsContainer",children:[Object(n.jsx)(d,{}),Object(n.jsx)(h,{firebase:o.a})]})})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),g()}},[[28,1,2]]]);
//# sourceMappingURL=main.7dd5f090.chunk.js.map